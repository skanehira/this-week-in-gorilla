---
head:
  - - meta
    - name: twitter:card
      content: summary
  - - meta
    - property: og:site_name
      content: This Week in Gorilla
  - - meta
    - property: og:title
      content: 2023/06 2週目
  - - meta
    - property: og:url
      content: https://skanehira.github.io/this-week-in-gorilla/docs/2023/0602.html

---

## Rust
- https://blog.rust-lang.org/2023/06/01/Rust-1.70.0.html
  - 1.70.0がリリースされた
  - `OnceCell`とそのスレッドセーフ版の`OnceLock`が追加された
    - `OnceCell`は[once_cell](https://docs.rs/once_cell/latest/once_cell/)を本体に取り込んだやつらしい
      ```rust
      let cell = OnceCell::new();

      let value: &String = cell.get_or_init(|| {
          "Hello, World!".to_string()
      })
      ```
    - [LazyCell](https://doc.rust-lang.org/std/cell/struct.LazyCell.html)も標準で用意されていた（まだnightly）
      ```rust
      let lazy: LazyCell<i32> = LazyCell::new(|| {
          println!("initializing");
          92
      }); 
      ```
  - `is_terminal()`が追加された（個人的にほしかったやつだ）
    ```rust
    let use_color = stdout().is_terminal();
    ```

## その他
- https://wiki.georgeorge.com/docs/tech/api-stoplight-prism/
  - examplesがあるステータスコードをPreferヘッダで指定すると、そのレスポンスが返ってくる
    ```sh
    curl -v -X POST -H "Content-Type: application/json" -H "Prefer: code=400" localhost:4010/foo -d '{"foo": "bar"}' | jq
    ```
  - callbackを登録するというやり方もあるみたいだ
    - https://swagger.io/docs/specification/callbacks/

## ラズパイ
  - [LCDモジュール 2.8" A 320×240 タッチパネル SPI for Pi[12219]](https://raspberry-pi.ksyic.com/main/index/pdp.id/945,946)
    - ラズパイ対応している小型タッチパネル
